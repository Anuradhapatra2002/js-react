<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=as, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>async function</h1>
    <p>an asnc function is a function that alaways return a promise</p>
    <script>
    async function c(){
        return new Promise(()=>{

        })
    }

    async function D() {
        return 'hello'
        
    }
    D()
      
    .then((res) =>{
        console.log('promise was resolved' , res);
        
    })
    .catch((err)=>{
        console.log('promise was rejected' , err);
        
    })
        
    </script>

    <h1>await keyword</h1>
    <p>The await keyword is used with in async function to pause the execution untill a promise is settled(resolved or rejected)</p>
    <script>
        function wait(){
            return new Promise((resolve , reject)=>{
                setTimeout(()=>{
                    console.log('set time out completed');
                    resolve()
                    
                } , 2000)

            })
        }

        async function f1(){
            console.log('start');
           await  wait()
            console.log('end');
            
        }
        f1()

        // ===================================

        function doStep(step , delay){
            return new Promise((resolve , reject)=>{
  
            const num = Math.floor(Math.random()*10+1)
            if(num>4){
                reject('insufficent ingrediants')
            }
                          setTimeout(()=>{
                    console.log(step);
                    
                    resolve(`${step} done`)
                    
                } , delay)

            })
        }
         async function  makeTea(){
            try{
            await doStep('Boil watwer' , 1000)
            await doStep('add tea leaves' , 1000)
            await doStep('pour into cups' , 1000)
            }catch(err){
                console.log('error' , err);
                
            }
        }
    </script>
</body>
</html>